---
sidebar_position: 3
---
# SideBar

## Описание

Компонент **SideBar** представляет собой боковую панель навигации для личного кабинета или административной панели. Он включает в себя динамическое отображение информации о текущем пользователе и позволяет перемещаться между различными разделами приложения. Панель изменяется в зависимости от роли текущего пользователя и содержит различные разделы навигации для обычных пользователей и администраторов.

## Логика компонента

1. **Данные пользователя**:  
   При инициализации компонента происходит попытка загрузить данные о текущем пользователе из `localStorage`. Если данные пользователя присутствуют, они отображаются на панели, включая аватар, имя и email.

2. **Роль пользователя**:  
   В зависимости от роли пользователя (полученной из `localStorage`), отображаются различные элементы навигации:
    - Если роль пользователя не является администратором (`role_id !== 1`), то показываются навигационные элементы для обычных пользователей.
    - Если роль — администратор (`role_id === 1`), то показываются дополнительные административные разделы.

3. **Навигация**:  
   В компоненте используется несколько массивов для навигационных ссылок:
    - `nav1` — общие разделы для всех пользователей, такие как "Обзор", "Уведомления".
    - `nav2` — дополнительные разделы для пользователей, такие как "Пользователи", "Оборудование", "Задачи".
    - `navAdmin` — административные разделы для администраторов, такие как "Производители", "Пользователи", "Отзывы", "Заявки".

   В зависимости от текущего пути (pathname), для активного раздела меняется стиль фона и цвета текста.

4. **Обработка кликов**:  
   При клике на любой элемент навигации происходит сброс фильтров (с помощью функции `resetFilters` из контекста фильтров) и перенаправление на соответствующую страницу с помощью роутинга (`router.push`).

## Свойства (Props)

- **Нет пропсов**. Все данные извлекаются из `localStorage` и контекста, а навигация строится на основе текущего пути.

## Использование

Пример использования компонента **SideBar**:

```jsx
import SideBar from './components/SideBar';

function MyPage() {
    return (
        <div>
            <SideBar />
            <main>Контент страницы</main>
        </div>
    );
}
```

## Важные моменты

1. **Динамическая навигация**: Панель навигации изменяется в зависимости от текущего пути в URL. Элементы выделяются, если они соответствуют текущему пути.
2. **Роль пользователя**: Роль пользователя определяется при загрузке компонента, и на основе этой роли определяются доступные разделы.
3. **Использование Image**: Для всех иконок используется компонент `Image` из Next.js для оптимизации изображений.
4. **CSS**: Для стилизации панели используются utility-классы TailwindCSS.

## Зависимости

- **Material UI**: используется для компонента `Avatar`, а также для отображения иконок.
- **Next.js**: используется для роутинга с помощью `useRouter` и для получения текущего пути с помощью `usePathname`.
- **Custom Context**: используется контекст `useFilter` для сброса фильтров при переходе по разделам.

## Стиль

Компонент использует **TailwindCSS** для стилизации:
- Основные классы для отображения навигации, таких как `bg-[#F1F9F9]`, `flex`, `items-center`, `gap-[8px]` и другие.
- Для активных элементов навигации используется стиль `bg-[#54B4B4] text-white`, а для неактивных — `bg-transparent text-[#232956] hover:bg-[#D9D9D9]`.

---

Таким образом, этот компонент представляет собой панель навигации с динамическим контентом и стилями, которая адаптируется под различные роли пользователей и позволяет легко навигировать между разделами приложения.
